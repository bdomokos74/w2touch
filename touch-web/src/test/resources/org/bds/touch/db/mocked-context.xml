<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:util="http://www.springframework.org/schema/util"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/util
       http://www.springframework.org/schema/util/spring-beans-2.5.xsd">

	<import resource="testbeans.xml" />
	
	<bean id="userDAO" class="org.bds.touch.mock.MockUserDAO">
		<property name="users">
			<map>
				<entry key="1" value-ref="user1" />
				<entry key="2" value-ref="user2" />
			</map>
		</property>
	</bean>

	<bean id="chatDAO" class="org.bds.touch.mock.MockChatDAO">
		<property name="userName" value="testname_2" />
		<property name="chats">
			<list>
				<ref bean="chat1" />
				<ref bean="chat2" />
			</list>
		</property>
	</bean>
	
	<bean id="postDAO" class="org.bds.touch.mock.MockPostDAO">
		<property name="userName" value="testname_2" />
		<property name="chatName" value="testname_2" />
		<property name="posts">
			<list>
				<ref bean="post1" />
				<ref bean="post2" />
			</list>
		</property>	
	</bean>

	<!-- UserResource -->
	<bean id="userresource_1" class="org.bds.touch.rest.UserResource">
		<constructor-arg>
			<null />
		</constructor-arg>
		<constructor-arg ref="user_request" />
		<constructor-arg>
			<null />
		</constructor-arg>
	</bean>
	<bean id="request_resourceRef" class="org.restlet.data.Reference">
		<property name="baseRef" ref="request_resourceRef_baseRef" />
	</bean>
	<bean id="request_resourceRef_baseRef" class="org.restlet.data.Reference">
		<constructor-arg value="http://www.test.org/users" />
	</bean>

	<bean id="user_request" class="org.restlet.data.Request">
		<property name="attributes">
			<map>
				<entry key="userName" value="testname_1" />
			</map>
		</property>
		<property name="resourceRef" ref="request_resourceRef" />
	</bean>

	<!-- UserListResource -->
	<bean id="userlistresource_1" class="org.bds.touch.rest.UserListResource">
		<constructor-arg>
			<null />
		</constructor-arg>
		<constructor-arg ref="userlist_request" />
		<constructor-arg>
			<null />
		</constructor-arg>
	</bean>
	<bean id="userlist_request" class="org.restlet.data.Request">
		<property name="attributes">
			<null />
		</property>
		<property name="resourceRef" ref="request_userlist_resourceRef" />
	</bean>
	<bean id="request_userlist_resourceRef" class="org.restlet.data.Reference">
		<property name="baseRef" ref="request_userlist_resourceRef_baseRef" />
	</bean>
	<bean id="request_userlist_resourceRef_baseRef" class="org.restlet.data.Reference">
		<constructor-arg value="http://www.test.org/users" />
	</bean>

	<!--ChatListResource -->
	<bean id="request_chatlist_resourceRef" class="org.restlet.data.Reference">
		<property name="baseRef" ref="request_chatlist_resourceRef_baseRef" />
	</bean>
	<bean id="request_chatlist_resourceRef_baseRef" class="org.restlet.data.Reference">
		<constructor-arg value="http://www.test.org/users/username/chats" />
	</bean>

	<bean id="chatlistresource_1" class="org.bds.touch.rest.ChatListResource">
		<constructor-arg>
			<null />
		</constructor-arg>
		<constructor-arg ref="request_chatlistreq" />
		<constructor-arg>
			<null />
		</constructor-arg>
	</bean>
	<bean id="request_chatlistreq" class="org.restlet.data.Request">
		<property name="attributes">
			<map>
				<entry key="userName" value="testname_2" />
			</map>
		</property>
		<property name="resourceRef" ref="request_chatlist_resourceRef" />
	</bean>
	
	<!-- ChatResource -->
	<bean id="request_chat_resourceRef" class="org.restlet.data.Reference">
		<property name="baseRef" ref="request_chat_resourceRef_baseRef" />
	</bean>
	<bean id="request_chat_resourceRef_baseRef" class="org.restlet.data.Reference">
		<constructor-arg value="http://www.test.org/users/username/chats/testchat" />
	</bean>

	<bean id="chatresource_1" class="org.bds.touch.rest.ChatResource">
		<constructor-arg>
			<null />
		</constructor-arg>
		<constructor-arg ref="request_chatreq" />
		<constructor-arg>
			<null />
		</constructor-arg>
	</bean>
	<bean id="request_chatreq" class="org.restlet.data.Request">
		<property name="attributes">
			<map>
				<entry key="userName" value="testname_2" />
				<entry key="chatName" value="chatname_2" />
			</map>
		</property>
		<property name="resourceRef" ref="request_chat_resourceRef" />
	</bean>

	<!-- PostResource -->
	<bean id="request_post_resourceRef" class="org.restlet.data.Reference">
		<property name="baseRef" ref="request_post_resourceRef_baseRef" />
	</bean>
	<bean id="request_post_resourceRef_baseRef" class="org.restlet.data.Reference">
		<constructor-arg value="http://www.test.org/users/username/chats/testchat/postid" />
	</bean>

	<bean id="postresource_OK" class="org.bds.touch.rest.PostResource">
		<constructor-arg>
			<null />
		</constructor-arg>
		<constructor-arg ref="request_postreq" />
		<constructor-arg>
			<null />
		</constructor-arg>
	</bean>
	<bean id="request_postreq" class="org.restlet.data.Request">
		<property name="attributes">
			<map>
				<entry key="postId" value="1" />
				<entry key="userName" value="testname_1" />
			</map>
		</property>
		<property name="resourceRef" ref="request_post_resourceRef" />
	</bean>

	<bean id="postresource_DENIED" class="org.bds.touch.rest.PostResource">
		<constructor-arg>
			<null />
		</constructor-arg>
		<constructor-arg ref="request_postreq_denied" />
		<constructor-arg>
			<null />
		</constructor-arg>
	</bean>
	<bean id="request_postreq_denied" class="org.restlet.data.Request">
		<property name="attributes">
			<map>
				<entry key="postId" value="1" />
				<entry key="userName" value="testname_2" />
			</map>
		</property>
		<property name="resourceRef" ref="request_post_resourceRef" />
	</bean>

</beans>